闭包和代码块的区别

闭包和代码块都是Scala中的重要概念，但它们具有不同的含义和用途。

代码块是一组语句，通常用于分组执行代码。在Scala中，代码块可以嵌套，最内层的代码块中的变量可以覆盖外部代码块中的同名变量。代码块通常用大括号 {} 包围。

下面是一个简单的代码块示例：

```scala
{
  val x = 1
  val y = 2
  println(x + y)
}
```

闭包是一个函数和与之相关的引用环境的组合。在Scala中，闭包通常是指一个函数，它包含自由变量（即在函数内部未定义的变量），并且可以访问其定义范围之外的变量。闭包可以捕获其定义范围之外的变量，并将其存储在其环境中，以便在后续调用中使用。

下面是一个简单的闭包示例：

```scala
def addX(x: Int) = (y: Int) => x + y
val addTwo = addX(2)
val result = addTwo(3)
println(result) // 输出 5
```

在这个例子中，addX 函数返回一个接收一个整数参数的函数。在调用 addX(2) 后，我们得到一个新的函数 addTwo，它可以将其参数加上2并返回结果。在 addTwo(3) 中，我们将3传递给 addTwo 函数，得到结果5。

总的来说，代码块是一组语句，而闭包是一个函数和其引用环境的组合。两者之间的主要区别是闭包可以捕获其定义范围之外的变量，而代码块不行。
